<project_specification>
  <project_name>Movie Finder</project_name>

  <overview>
    Movie Finder is a client-side single-page application that allows users to search for movies using the TMDB API. Users can browse movie results, view detailed information on hover, and save their favorite movies to Local Storage for easy access. The app features a clean, responsive design with light and dark theme support.
  </overview>

  <technology_stack>
    <frontend>
      <framework>Vite + React 18 + TypeScript</framework>
      <styling>Tailwind CSS + Shadcn UI components</styling>
      <routing>React Router v6</routing>
      <state_management>Plain React state (useState/useReducer)</state_management>
    </frontend>
    <backend>
      <runtime>None (client-side only)</runtime>
      <database>None (Local Storage for favorites persistence)</database>
    </backend>
    <communication>
      <api>TMDB API v3 (themoviedb.org)</api>
      <http_client>Native fetch</http_client>
    </communication>
  </technology_stack>

  <prerequisites>
    <environment_setup>
      - Node.js 18+ and npm/pnpm/yarn
      - TMDB API key (stored in .env file as VITE_TMDB_API_KEY)
      - Modern web browser with ES6+ support
      - No backend or authentication required
    </environment_setup>
  </prerequisites>

  <feature_count>58</feature_count>

  <security_and_access_control>
    <user_roles>
      <role name="anonymous_user">
        <permissions>
          - Can search for movies via TMDB API
          - Can view movie details
          - Can save/remove favorites to Local Storage
          - Can toggle between light/dark themes
          - Full access to all app features (no authentication required)
        </permissions>
        <protected_routes>
          None - all routes are public
        </protected_routes>
      </role>
    </user_roles>
    <authentication>
      <method>None - fully client-side application with no user accounts</method>
      <session_timeout>N/A</session_timeout>
      <password_requirements>N/A</password_requirements>
    </authentication>
    <sensitive_operations>
      None - no sensitive data or operations
    </sensitive_operations>
  </security_and_access_control>

  <core_features>
    <navigation_and_layout>
      - Header with app title/logo
      - Navigation links for Search page and Favorites page
      - Theme toggle button (light/dark mode)
      - React Router navigation between pages
      - Responsive layout (desktop, tablet, mobile)
    </navigation_and_layout>

    <search_functionality>
      - Search input field in page content area
      - "Find" button to trigger search
      - "Reset" button to clear search box and results
      - Minimum 3 characters required to search
      - Enter key triggers search
      - API call to TMDB /search/movie endpoint
      - Display loading spinner during API calls
      - Display 24 movie results in responsive grid
      - Show error message if API fails
      - Show "No movies found!" message for empty results
      - Prevent search with empty or whitespace-only input
    </search_functionality>

    <movie_card_display>
      - Display movie poster image (from TMDB image API)
      - Display movie title
      - Display release year
      - Display rating (vote_average)
      - Hover on poster shows description overlay (max 200 characters)
      - Responsive grid layout: 4 columns desktop, 2 columns tablet/mobile
      - Card hover effects for better interactivity
      - Handle missing poster images gracefully
    </movie_card_display>

    <favorites_system>
      - Heart icon on each movie card
      - Click heart to toggle favorite status
      - Heart fills when movie is favorited
      - Heart unfills when movie is unfavorited
      - Save favorites to Local Storage (key: "movieFavorites")
      - Load favorites from Local Storage on app start
      - Persist full movie object (id, title, poster_path, release_date, vote_average, overview)
      - Sync favorite state between Search and Favorites pages
      - Favorites persist across browser sessions
    </favorites_system>

    <favorites_page>
      - Display all favorited movies in same card grid layout
      - Same card styling and hover behavior as search results
      - Heart icon toggles to remove from favorites
      - Show "No favorites yet" message when list is empty
      - Remove from Local Storage when unfavorited
      - Responsive grid layout matches search page
    </favorites_page>

    <error_and_edge_cases>
      - Network error handling with user-friendly messages
      - API rate limit handling
      - Invalid API key error message
      - Empty state messaging throughout app
      - Handle very long movie titles (truncation)
      - Handle missing movie data fields gracefully
    </error_and_edge_cases>

    <theme_support>
      - Light mode (default)
      - Dark mode
      - Theme toggle button in header
      - Persist theme preference in Local Storage
      - Smooth theme transitions
      - Consistent styling across both themes
    </theme_support>
  </core_features>

  <database_schema>
    <tables>
      <local_storage>
        - movieFavorites: Array of movie objects
          - id: number (TMDB movie ID)
          - title: string
          - poster_path: string (TMDB image path)
          - release_date: string (YYYY-MM-DD)
          - vote_average: number (0-10 rating)
          - overview: string (description)
        - theme: string ("light" | "dark")
      </local_storage>
    </tables>
  </database_schema>

  <api_endpoints_summary>
    <tmdb_api>
      - GET https://api.themoviedb.org/3/search/movie?api_key={key}&query={searchTerm}
      - Image base URL: https://image.tmdb.org/t/p/w500{poster_path}
      - Response includes: id, title, poster_path, release_date, vote_average, overview
    </tmdb_api>
  </api_endpoints_summary>

  <ui_layout>
    <main_structure>
      - Header: Fixed at top with title, navigation links (Search | Favorites), theme toggle
      - Main content area: Search bar (on Search page) or favorites grid (on Favorites page)
      - Movie results grid: Below search bar on Search page
      - Responsive breakpoints:
        * Desktop (1024px+): 4-column grid
        * Tablet (768px-1023px): 2-column grid  
        * Mobile (375px-767px): 2-column grid
    </main_structure>

    <search_page>
      - Search input field (full width on mobile, centered on desktop)
      - Find button (primary) and Reset button (secondary) side by side
      - Results grid below search controls
      - Loading spinner centered during API calls
      - Error/empty state messages centered
    </search_page>

    <favorites_page>
      - Movie cards grid with same layout as search results
      - "No favorites yet" message when empty (centered, with icon)
    </favorites_page>

    <movie_card>
      - Poster image (aspect ratio 2:3)
      - Title below poster
      - Year and rating in metadata row
      - Heart icon (top-right corner, overlaid on poster)
      - Description overlay on hover (semi-transparent background, white text)
      - Card shadow and hover lift effect
      - Rounded corners (8px)
    </movie_card>
  </ui_layout>

  <design_system>
    <color_palette>
      Light mode:
      - Background: white/gray-50
      - Text: gray-900
      - Primary: blue-600
      - Card background: white
      - Card shadow: subtle gray
      
      Dark mode:
      - Background: gray-900
      - Text: gray-50
      - Primary: blue-400
      - Card background: gray-800
      - Card shadow: black with opacity
    </color_palette>

    <typography>
      - Primary font: System font stack (Tailwind default)
      - Title: text-2xl font-bold
      - Card title: text-lg font-semibold
      - Metadata: text-sm text-gray-600
      - Button text: text-base font-medium
    </typography>

    <spacing>
      - Card gap: 1rem (gap-4)
      - Padding: 1rem (p-4) on cards
      - Margin: 2rem (mt-8) between sections
      - Container max-width: 1280px
    </spacing>

    <components>
      - Use Shadcn UI components for: Button, Input, Card
      - Custom components: MovieCard, SearchBar, ThemeToggle
      - Icons: Lucide React (heart, search, sun/moon for theme toggle)
    </components>
  </design_system>

  <implementation_steps>
    <step number="1">
      <title>Project Setup & Basic UI</title>
      <tasks>
        - Initialize Vite + React + TypeScript project
        - Install dependencies: react-router-dom, tailwindcss, shadcn-ui, lucide-react
        - Configure Tailwind CSS with dark mode support
        - Set up Shadcn UI components (Button, Input, Card)
        - Create basic project structure (/components, /pages, /types, /utils)
        - Set up React Router with two routes: "/" (Search) and "/favorites"
        - Create Layout component with Header, navigation links, theme toggle
        - Implement theme toggle functionality with Local Storage persistence
        - Set up .env file structure for TMDB API key
      </tasks>
    </step>

    <step number="2">
      <title>Search Functionality</title>
      <tasks>
        - Create SearchBar component with input, Find, and Reset buttons
        - Implement search validation (min 3 characters)
        - Create TMDB API service module with fetch calls
        - Implement search API call to TMDB /search/movie endpoint
        - Add loading state with spinner component
        - Handle API errors with error message display
        - Display "No movies found!" for empty results
        - Implement Enter key to trigger search
        - Implement Reset button to clear search and results
        - Store search results in component state
      </tasks>
    </step>

    <step number="3">
      <title>Movie Cards & Display</title>
      <tasks>
        - Create MovieCard component with poster, title, year, rating
        - Implement responsive grid layout (4/2/2 columns)
        - Add hover effect to show description overlay
        - Truncate descriptions to 200 characters
        - Style cards with shadows, rounded corners, hover effects
        - Handle missing poster images (placeholder or fallback)
        - Format release date to show year only
        - Format rating to 1 decimal place
        - Test responsive behavior on different screen sizes
      </tasks>
    </step>

    <step number="4">
      <title>Favorites System</title>
      <tasks>
        - Add heart icon to MovieCard (top-right overlay)
        - Implement favorite toggle functionality (fill/unfill heart)
        - Create Local Storage utility functions (save, load, remove)
        - Store favorites array in Local Storage (key: "movieFavorites")
        - Load favorites on app initialization
        - Create favorites context or state management
        - Sync favorite state across Search and Favorites pages
        - Implement isFavorite check for each movie
        - Handle duplicate prevention (check by movie ID)
        - Test persistence across browser sessions
      </tasks>
    </step>

    <step number="5">
      <title>Favorites Page & Polish</title>
      <tasks>
        - Create FavoritesPage component
        - Display favorites grid using same MovieCard component
        - Implement "No favorites yet" empty state
        - Enable unfavoriting from Favorites page (heart toggle)
        - Test navigation between Search and Favorites pages
        - Test removing favorites syncs with Local Storage
        - Add smooth transitions and animations
        - Test all edge cases (network errors, missing data)
        - Verify responsive design on all breakpoints
        - Final testing and bug fixes
      </tasks>
    </step>
  </implementation_steps>

  <success_criteria>
    <functionality>
      - Users can search for movies with 3+ characters and see 24 results
      - Search results display correctly with poster, title, year, and rating
      - Hovering on posters shows truncated descriptions (200 chars)
      - Users can favorite/unfavorite movies with heart icon toggle
      - Favorites persist in Local Storage across browser sessions
      - Favorites page displays all saved movies
      - All navigation links work correctly
      - Theme toggle switches between light/dark modes and persists
      - Loading spinner appears during API calls
      - Error messages display for API failures
      - "No movies found!" shows for empty search results
      - "No favorites yet" shows when favorites list is empty
      - Reset button clears search and results
      - Enter key triggers search
      - All functionality works without backend or authentication
    </functionality>

    <user_experience>
      - Clean, intuitive interface with clear visual hierarchy
      - Responsive design works smoothly on desktop, tablet, and mobile
      - Smooth hover effects and transitions
      - Loading states provide clear feedback during API calls
      - Error messages are user-friendly and actionable
      - Empty states are informative and visually appropriate
      - Theme switching is instant and smooth
      - No layout shifts or jank during loading
      - Card grid layouts are visually balanced
    </user_experience>

    <technical_quality>
      - TypeScript types defined for all data structures
      - No console errors during normal operation
      - API key properly secured in .env file
      - Clean component architecture with reusable components
      - Proper error handling for all API calls
      - Local Storage operations are safe and validated
      - React Router navigation works correctly
      - State management is clear and maintainable
      - Code follows React best practices (hooks, component structure)
      - No prop drilling issues
    </technical_quality>

    <design_polish>
      - Consistent styling across all pages
      - Professional color palette for both themes
      - Typography hierarchy is clear and readable
      - Spacing and alignment are consistent
      - Icons are appropriately sized and positioned
      - Hover states are visually apparent
      - Cards have proper shadows and depth
      - Mobile UI is touch-friendly (large tap targets)
      - Dark mode is fully functional and visually appealing
      - Overall design feels modern and polished
    </design_polish>
  </success_criteria>
</project_specification>
